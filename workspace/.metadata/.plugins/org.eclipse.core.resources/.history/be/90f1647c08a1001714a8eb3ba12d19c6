package homework_2_2_4;

import java.net.DatagramPacket;
import java.net.DatagramSocket;

public class ServerSock {

	final static int MAX_LEN = 100;
	final static String PORT = "8888";
	
	public static void main(String[] args) {

		System.out.print("ServerSock begin:");
		
		int port = Integer.parseInt(PORT);
		
		try {
			DatagramSocket	mySocket = new DatagramSocket(port);
   	      	System.out.println("Waiting for receiving the data!");  
   	      	// instantiates a datagram socket for receiving the data
            byte[ ] buffer = new byte[MAX_LEN];                                     
            DatagramPacket datagram = new DatagramPacket(buffer, MAX_LEN);
            //mySocket.setSoTimeout(6000);  
            for(int i=0;i<10;i++)
            {
            	//mySocket.setSoTimeout(5000);
            	mySocket.receive(datagram);
            	String message = new String(buffer);
            	System.out.println(message);
            }
            mySocket.close( );
         	} // end try
	 	catch (Exception ex) {
        	ex.printStackTrace( );
		}

	}

}
